<!DOCTYPE html>
<html>
<head>
	<title>injection sql img</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
		<a class="navbar-brand" href="#">Faille numero 6 : Injection sql img</a>
		<ul class="navbar-nav mr-auto">
			<li class="nav-item">
        		<a class="nav-link" href="../../manuel.html">retour</a>
      		</li>
		</ul>
	</nav>
	<div align="center">
		<h1 class="mt-4">Injection de sql dans le champs de recherche des images</h1>

		<h3 class="mt-5">Exploitation de la faille : </h3>

		<div class="mt-5">
			<h5 class="mt-4">Etape 1 : </h5>
			<p class="lead">Si on vas sur la page de recherche d'image du site</p>
			<img src="img/1.png" class="mt-4 img_sh om">
		</div>
		<div class="mt-5">
			<h5 class="mt-4">Etape 2 : </h5>
			<p class="lead">si on met la commande : <br>1 or 1=1 UNION select table_name, column_name FROM information_schema.columns<br><br>dans le chamsp de recherche et que l'on valide le formulaire on obtient les informations sur les differentes tables de la base de donnee <br>ici celle qui nous interesses sont les informations de l'image 1</p>
			<img src="img/2.png" class="mt-4 om">
			<img src="img/3.png" class="mt-4 om">
			<img src="img/4.png" class="mt-4 om">
		</div>
		<div class="mt-5">
			<h5 class="mt-4">Etape 3 : </h5>
			<p class="lead">on creer la requette : 1 or 1=1 UNION select url, comment from list_images<br><br>depuis les informations recues, et on la met dans le champs du formulaire te on valide le formulaire</p>
			<img src="img/5.png" class="mt-4 om">
		</div>
		<div class="mt-5">
			<h5 class="mt-4">Etape 4 : </h5>
			<p class="lead">On peut voir la phrase : If you read this just use this md5 decode lowercase then sha256 to win this flag !<br>Donc on decrypt le md5 de 1928e8083cf461a51303633093573c46 avec un site fait pour ce qui nous donne : albatroz</p>
			<img src="img/6.png" class="mt-4 om">
		</div>
		<div class="mt-5">
			<h5 class="mt-4">Etape 5 : </h5>
			<p class="lead">On fait le sha256 de albatroz qui nous donne le flag</p>
			<img src="img/7.png" class="mt-4 om">
		</div>

		<h3 class="mt-5">Protection de la faille : </h3>

		<p class="mt-5 lead">Utiliser la pdo plutot que mysqli</p>
	</div>
</body>
</html>